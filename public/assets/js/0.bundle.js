(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{985:function(e,t,a){"use strict";(function(e){var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(17)),l=n(a(23)),c=n(a(53)),s=a(116),o=a(1),i=a(446),d=a(444),m=n(a(997)),u=a(242),f=n(a(443)),p=a(445),v=n(a(999));var h=(0,u.connect)((function(e){return{wallet:e.ContractReducers.contract.wallet,balance:e.BalanceReducers,contractReducers:e.ContractReducers,provider:e.ContractReducers.contract.provider,contract:e.ContractReducers.contract.myContract,cart:e.CartReducers,notif:e.NotifReducers}}),(function(e){return{add:function(t){e({type:"add",data:t})},init:function(t){e({type:"init",data:t})},notif:function(t){e({type:"notif",data:t})},updateContract:function(t){e({type:"update",contract:t})},updateBalance:function(t){e({type:"balance",price:t})}}}))((function(t){var a=(0,o.useState)({}),n=(0,c.default)(a,2),u=n[0],h=n[1],E=(0,o.useState)([]),w=(0,c.default)(E,2),x=w[0],y=w[1],N=(0,o.useState)(localStorage.getItem("login")),g=(0,c.default)(N,2),b=g[0],k=g[1],C=(0,s.useNavigate)();(0,o.useEffect)((0,l.default)(r.default.mark((function e(){var a,n,c,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){var e=(0,l.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.get("/cart/"+t.wallet);case 2:a=e.sent,t.init(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=(0,l.default)(r.default.mark((function e(){var a,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.default.get("/myorder/notif",{params:{user_id:t.wallet}});case 3:a=e.sent,n=a.data,y(n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,l.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contract.wallets(t.wallet);case 2:a=e.sent,h({photo:a.photo,name:a});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,l.default)(r.default.mark((function e(){var a,n,l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.ConnectBlockchain)(b);case 3:if(a=e.sent,!b){e.next=12;break}return e.next=7,a.provider.getBalance(a.wallet);case 7:n=e.sent,l=p.ethers.utils.formatEther(n.toString()),t.updateBalance(l),e.next=13;break;case 12:t.updateBalance(null);case 13:t.contractReducers.setPrice(3751650),t.updateContract(a),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(0);case 19:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),t.wallet?(a(),n(),c()):s();case 5:case"end":return e.stop()}}),e)}))),[t.wallet,b]);var S,B=function(e){C(e)};return e.createElement("div",null,e.createElement("nav",{className:"top-app-bar navbar navbar-expand navbar-dark bg-dark"},e.createElement("div",{className:"container-fluid px-4"},e.createElement("button",{className:"btn btn-lg btn-icon order-1 order-lg-0",id:"drawerToggle",onClick:function(e){e.preventDefault(),document.body.classList.toggle("drawer-toggled")}},e.createElement("i",{className:"material-icons"},"menu")),e.createElement(s.Link,{className:"navbar-brand me-auto",to:"/"},e.createElement("div",{className:"text-uppercase font-monospace"},"ComerCY")),e.createElement("div",{className:"d-flex align-items-center mx-3 me-lg-0"},e.createElement("div",{className:"d-flex"},e.createElement(d.Dropdown,null,e.createElement(d.Dropdown.Toggle,{id:"dropdown-basic",className:"bg-none btn-overlay d-none d-md-block",size:"lg"},e.createElement("i",{className:"material-icons"},"notifications"),e.createElement("span",null,(S=0,x.forEach((function(e,a){S+=e.readStatus.search(t.wallet)<0?1:0})),S))),e.createElement(d.Dropdown.Menu,null,x.length<=0?e.createElement(d.Dropdown.Item,{className:"d-flex flex-column align-items-start my-2 disabled",style:{height:"auto"}},e.createElement("div",{className:"title-noto-2 text-line-1 w-100"},"No New Notification")):x.slice(0,5).map((function(t,a){var n=t.status,r="Waiting"==n?"Succesfully sent the Order to Seller":"Confirmation"==n?"Confirmed the Order and has sent Email to "+t.email+"by Seller":"Finished"==n?"Order Successfully Accepted by buyer and Payment has been paid":"Payment Fee has been Claimed by Seller";return e.createElement(d.Dropdown.Item,{className:"d-flex flex-column align-items-start my-2",style:{height:"auto"},onClick:function(e){e.preventDefault(),B("/order/".concat(t.order.id))},key:a},e.createElement("div",{className:"title-barlow-3"},e.createElement("i",{className:"material-icons text-primary",style:{verticalAlign:"bottom"}},"info"),". ",(0,v.default)(t.createdAt).fromNow()),e.createElement("div",{className:"title-noto-3 text-line-1 w-100"},r))})),e.createElement(d.Dropdown.Item,{className:"title-2 text-primary",style:{height:"auto"},onClick:function(e){e.preventDefault(),B("/notifications")}}," ","See More"))),e.createElement(s.Link,{className:"btn btn-lg btn-icon mx-2 btn-overlay d-none d-md-block",to:"/cart"},e.createElement("i",{className:"material-icons"},"shopping_cart"),e.createElement("span",null,t.cart.length)),e.createElement("div",{className:"dropdown"},e.createElement("button",{className:"btn btn-lg btn-icon dropdown-toggle mx-2",id:"dropdownMenuProfile",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},t.wallet?e.createElement("img",{style:{height:"inherit",width:"inherit",objectFit:"cover",background:"white"},src:u.photo?u.photo:"/assets/images/profilTest.png"}):e.createElement("i",{className:"material-icons"},"person")),e.createElement("ul",{className:"dropdown-menu dropdown-menu-end mt-3","aria-labelledby":"dropdownMenuProfile"},e.createElement("li",null,e.createElement(s.Link,{to:"/profile",className:"dropdown-item",href:"#!"},e.createElement("i",{className:"material-icons leading-icon"},"person"),e.createElement("div",{className:"me-3"},"Profile"))),e.createElement("li",null,e.createElement("hr",{className:"dropdown-divider"})),e.createElement("li",null,t.wallet?e.createElement("a",{onClick:function(){(0,i.ConnectBlockchain)(!1).then(function(){var e=(0,l.default)(r.default.mark((function e(a){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.updateContract(a),localStorage.removeItem("login"),k(!1),t.updateBalance(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}))},style:{cursor:"pointer"},className:"dropdown-item"},e.createElement("i",{className:"material-icons leading-icon"},"login"),e.createElement("div",{className:"me-3"},"Logout")):e.createElement("a",{style:{cursor:"pointer"},className:"dropdown-item",onClick:function(){(0,i.ConnectBlockchain)(!0).then(function(){var e=(0,l.default)(r.default.mark((function e(a){var n,l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.updateContract(a),localStorage.setItem("login","true"),e.next=4,a.provider.getBalance(a.wallet);case 4:n=e.sent,l=p.ethers.utils.formatEther(n.toString()),t.updateBalance(l),k(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}))}},e.createElement("i",{className:"material-icons leading-icon"},"login"),e.createElement("div",{className:"me-3"},"Connect Wallet"))))),t.balance&&e.createElement("span",{className:"font-noto text-white align-self-center d-none d-sm-block"}," ",t.balance," ",e.createElement("img",{src:"/assets/images/BNB.png",style:{height:30}})))))),e.createElement("div",{id:"layoutDrawer"},e.createElement("div",{id:"layoutDrawer_nav"},e.createElement("nav",{className:"drawer accordion drawer-light bg-white",id:"drawerAccordion"},e.createElement("div",{className:"drawer-menu"},e.createElement("div",{className:"nav"},e.createElement(s.Link,{className:"nav-link d-md-none",to:"/notifications"},e.createElement("div",{className:"nav-link-icon"},e.createElement("i",{className:"material-icons"},"notifications")),"Notifications"),e.createElement(s.Link,{className:"nav-link d-md-none",to:"/cart"},e.createElement("div",{className:"nav-link-icon"},e.createElement("i",{className:"material-icons"},"shopping_cart")),"Cart"),e.createElement("div",{className:"drawer-menu-divider d-sm-none"}),e.createElement("div",{className:"drawer-menu-heading"},"Menu"),e.createElement(s.Link,{to:"/",className:"nav-link"},e.createElement("div",{className:"nav-link-icon"},e.createElement("i",{className:"material-icons"},"home")),"Home"),e.createElement(s.Link,{className:"nav-link",to:"/market"},e.createElement("div",{className:"nav-link-icon"},e.createElement("i",{className:"material-icons"},"language")),"Market"),e.createElement(s.Link,{className:"nav-link collapsed",to:"/sell"},e.createElement("div",{className:"nav-link-icon"},e.createElement("i",{className:"material-icons"},"sell")),"Selling"),e.createElement(s.Link,{className:"nav-link collapsed",to:"/profile"},e.createElement("div",{className:"nav-link-icon"},e.createElement("i",{className:"material-icons"},"person")),"Profile"),e.createElement("div",{className:"drawer-menu-divider"}))),e.createElement("div",{className:"drawer-footer border-top"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("i",{className:"material-icons text-muted"},"account_circle"))))),e.createElement("div",{id:"layoutDrawer_content",onClick:function(e){document.body.classList.contains("drawer-toggled")&&document.body.classList.toggle("drawer-toggled")}},e.createElement("main",null,e.createElement(s.Outlet,null)),e.createElement("footer",{className:"py-4 mt-auto border-top",style:{minHeight:74}},e.createElement("div",{className:"container-xl px-5"},e.createElement("div",{className:"d-flex flex-column flex-sm-row align-items-center justify-content-sm-between small"})))),e.createElement("div",{className:"backdrop-cs d-none",id:"loader"},e.createElement("div",{className:"backdrop-bg"}),e.createElement("div",{className:"backdrop-content position-relative flex-column justify-content-center align-items-center"},e.createElement(d.Spinner,{animation:"grow",variant:"primary"}),e.createElement("div",{className:"text-white fw-bold",id:"loaderText"}," Please Wait....")))))}));t.default=h}).call(this,a(1))},990:function(e,t,a){"use strict";(function(e){var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(17)),l=n(a(117)),c=n(a(23)),s=n(a(53)),o=a(116),i=a(444),d=a(1),m=a(242),u=n(a(997)),f=a(446),p=a(445),v=(n(a(443)),n(a(999)));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=function(t){var a=t.photo;return null==a?e.createElement("div",{className:"d-flex skeleton",style:{height:300}},e.createElement("span",{className:"m-auto title-2"},"Image...")):e.createElement("img",{className:"d-block image-rounded w-100 "+(null==a&&"skeleton"),src:a&&"/assets/"+a})},x=function(t){var a=t.comment,n=t.person,r=t.date;return e.createElement("div",{className:"card my-3 shadow-sm",style:{padding:0}},e.createElement("div",{className:"card-header d-flex flex-row"},e.createElement("i",{className:"material-icons mx-1",style:{verticalAlign:"middle"}},"person"),e.createElement("div",{className:"d-flex flex-column flex-md-row justify-content-md-between w-100"},e.createElement("span",{className:"text-line-1 fw-bold"},n),e.createElement("div",{className:"mt-2 mt-md-0"},(0,v.default)(r).fromNow()))),e.createElement("div",{className:"card-body"},a))};var y=(0,m.connect)((function(e){return{contract:e.ContractReducers.contract,wallet:e.ContractReducers.contract.wallet,priceBNB:e.ContractReducers.price,profil:e.ContractReducers.contract.profil,cart:e.CartReducers}}),(function(e){return{add:function(t){return e({type:"add",data:t})},delete:function(t){return e({type:"delete",index:t})},updateContract:function(t){return e({type:"update",contract:t})},updateBalance:function(t){return e({type:"balance",price:t})}}}))((function(t){var a=(0,d.useState)(!1),n=(0,s.default)(a,2),l=n[0],m=n[1],v=(0,d.useState)(""),h=(0,s.default)(v,2),y=(h[0],h[1],(0,d.useState)({})),N=(0,s.default)(y,2),g=N[0],b=N[1],k=(0,d.useState)(""),C=(0,s.default)(k,2),S=C[0],B=C[1],_=(0,o.useNavigate)(),P=(0,o.useParams)().id;(0,d.useEffect)((function(){var e=function(){var e=(0,c.default)(r.default.mark((function e(){var a,n,l,c,s,o,i,d,m;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.contract.myContract,e.prev=1,e.next=4,a.productDetail(P);case 4:n=e.sent,l=n.category,c=n.description,s=n.name,o=n.owner,i=n.photo,d=n.price,n.productID,m={category:l,comment:S,description:c,name:s,owner:o,price:d.toNumber(),photo:i,id:P},u.default.get("/product/"+P).then((function(e){b(E(E({},m),{},{rating:e.rating,txid:e.txid,comments:e.comments}))})).catch((function(e){})),b(m),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();t.contract.myContract&&e()}),[t.contract]);var j=function(){var e=(0,c.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.cart,console.log(g),a={product_id:g.id,user_id:t.wallet,owner_id:g.owner},m(!1),u.default.post("/cart",{data:a}).then((function(e){t.add(a)})).catch((function(e){t.delete(-1)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,c.default)(r.default.mark((function e(){var a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.contract.myContract,a={text:S,product_id:g.id,user_id:t.wallet},u.default.post("/comments",{data:a}).then((function(e){_(0)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e.createElement("div",{className:"container-xl p-5 row"},e.createElement("div",{className:"col-12 col-md-5"},e.createElement(w,{photo:g.photo}),e.createElement("div",{className:"d-flex flex-row justify-content-center"},e.createElement("a",{href:"https://testnet.bscscan.com/tx/"+g.txid,className:"w-100 px-4 my-2 align-items-center text-center text-white btn-success btn-rounded shadow ",style:{color:"#018AD7",cursor:"pointer",textDecoration:"none"},target:"_blank"},"Scan Data Blockchain")),t.wallet&&!(t.wallet==g.owner)&&t.profil.name&&e.createElement("div",{className:"w-100 mt-3 py-2 px-5 text-white btn-primary btn-rounded shadow-lg text-center",style:{color:"#018AD7",cursor:"pointer"},onClick:function(){m(!0)}},"Add To Cart"),t.wallet&&!t.profil.name&&e.createElement("div",{className:"w-100 mt-3 py-2 px-5 text-white btn-primary btn-rounded shadow-lg text-center",style:{color:"#018AD7",cursor:"pointer"},onClick:function(){return _("/profile/edit")}},"Update Profil"),!t.wallet&&e.createElement("div",{className:"w-100 mt-3 py-2 px-5 text-white btn-primary btn-rounded shadow-lg text-center",style:{color:"#018AD7",cursor:"pointer"},onClick:function(){(0,f.ConnectBlockchain)(!0).then(function(){var e=(0,c.default)(r.default.mark((function e(a){var n,l;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.updateContract(a),localStorage.setItem("login","true"),e.next=4,a.provider.getBalance(a.wallet);case 4:n=e.sent,l=p.ethers.utils.formatEther(n.toString()),t.updateBalance(l);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}))}},"Connect Wallet")),e.createElement("div",{className:"col-12 col-md-7 my-5 my-md-0 align-self-start"},!g.name&&e.createElement("div",{className:"mx-3 d-flex flex-column justify-content-between",style:{flexGrow:1}},e.createElement("div",{className:"skeleton skeleton-text"}),e.createElement("div",{className:"skeleton skeleton-text"}),e.createElement("div",{className:"skeleton skeleton-text"})),g.name&&e.createElement("div",{className:"title-1 text-center text-md-start"},g.name),g.name&&e.createElement("div",{className:"font-nato d-flex flex-column flex-sm-row justify-content-start"},e.createElement("div",{className:"d-flex flex-row my-1"},e.createElement("span",{className:"material-icons me-1"},"account_circle")," ",e.createElement("span",{className:"text-line-1"},g.owner)),e.createElement("div",{className:"d-flex flex-row my-1"},e.createElement("span",{className:"material-icons ms-sm-5 me-1"},"favorite"),g.rating)),g.name&&e.createElement("div",{className:"d-flex flex-row"},e.createElement("img",{src:"/assets/images/BNB.png",className:"align-self-center",style:{height:30}}),e.createElement("div",{className:"title-2 my-2"},(g.price/t.priceBNB).toFixed(6)," ")),e.createElement("div",{className:"card my-3 shadow-sm"},e.createElement("div",{className:"card-header"},"Description"),!g.description&&e.createElement("div",{className:"mx-3 my-3 d-flex flex-column justify-content-between",style:{flexGrow:1}},e.createElement("div",{className:"skeleton skeleton-text"}),e.createElement("div",{className:"skeleton skeleton-text"}),e.createElement("div",{className:"skeleton skeleton-text"}),e.createElement("div",{className:"skeleton skeleton-text"})),g.description&&e.createElement("div",{className:"card-body"},g.description))),e.createElement("div",{className:"py-2 px-4 my-4 card-comment shadow-lg d-flex flex-row",style:{backgroundColor:"white"}},e.createElement("div",{className:"circle-outlined align-self-center me-3 "},e.createElement("i",{className:"material-icons",style:{verticalAlign:"middle"}},"person")),e.createElement("input",{className:"form-control",style:{borderWidth:0},placeholder:"Add Comments....",value:S,onChange:function(e){return B(e.target.value)}}),e.createElement("span",{className:"mx-2 align-self-center",style:{cursor:"pointer",color:"#0d0074"},onClick:L},"Send")),function(){if(g.comments)return g.comments.map((function(t,a){return e.createElement(x,{key:a,comment:t.text,person:t.user_id,date:t.createdAt})}))}(),e.createElement(i.Modal,{show:l,onHide:function(){return m(!1)},centered:!0},e.createElement(i.Modal.Header,{closeButton:!0},e.createElement(i.Modal.Title,null,'Are You Sure Add "',g.name,'" to Cart?')),e.createElement(i.Modal.Body,null),e.createElement(i.Modal.Footer,null,e.createElement(i.Button,{className:"mx-2",variant:"danger",onClick:function(){return m(!1)}},"Cancel"),e.createElement(i.Button,{variant:"primary",onClick:j},"Add to Cart"))))}));t.default=y}).call(this,a(1))},991:function(e,t,a){"use strict";(function(e){var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(17)),l=n(a(23)),c=n(a(53)),s=a(116),o=a(1),i=a(242),d=a(996),m=a(444),u=a(445),f=n(a(240)),p=n(a(997)),v=n(a(443)),h=n(a(999)),E=function(t){var a=t.photo;return null==a?e.createElement("div",{className:"d-flex skeleton",style:{height:100,width:100}},e.createElement("span",{className:"m-auto title-2"},"Image...")):e.createElement("img",{className:"d-block rounded "+(null==a&&"skeleton"),src:a&&"/assets/"+a,style:{height:100,width:100}})},w=function(t){var a=t.text,n=t.date,r=t.status,l=t.txid,c="hsl("+360*Math.random()+","+(25+70*Math.random())+"%,"+(80+10*Math.random())+"%)";return e.createElement("div",{className:"card p-3 my-3 flex-row",style:{boxShadow:"3px 2px 10px "+c}},e.createElement("span",{className:"align-self-center rounded-circle p-3 text-uppercased title-2",style:{backgroundColor:c}}," ","TX"," "),e.createElement("div",{className:"d-flex flex-column justify-content-center"},e.createElement("div",{className:"font-noto text-line-3"},a),e.createElement("div",{className:"text-muted my-1"},(0,h.default)(n).fromNow())),("Waiting"==r||"Claimed"==r||"Refund"==r)&&e.createElement("a",{href:"https://testnet.bscscan.com/tx/"+l,target:"_blank",className:"align-self-center ms-auto"},e.createElement("i",{className:"material-icons",style:{fontSize:45}},"document_scanner")))};var x=function(){var t=(0,s.useParams)().id,a=(0,s.useNavigate)(),n=(0,i.useSelector)((function(e){return e.ContractReducers.contract})),h=(0,o.useState)({}),x=(0,c.default)(h,2),y=x[0],N=x[1],g=(0,o.useState)({}),b=(0,c.default)(g,2),k=b[0],C=b[1];(0,o.useEffect)((function(){var e=n.wallet,a=n.myContract;n.wallet&&v.default.get("/order/"+t,{params:{user_id:e}}).then((function(t){var n=t.data[0];try{var c=n.orders_details.filter((function(t,a){return null==t.readStatus||t.readStatus.indexOf(e)<0})).map((function(t,a){return{readStatus:"".concat(t.readStatus,",").concat(e),id:t.id}}));c.length>0&&v.default.post("/orderDetail/read",{data:c}).then((function(e){})).catch((function(e){}))}catch(e){}var s=n.product_id;a.productDetail(s).then(function(){var e=(0,l.default)(r.default.mark((function e(t){var n,l,c,s,o,i;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.photo,l=t.name,c=t.owner,s=t.category,e.next=3,a.wallets(c);case 3:o=e.sent,i=o.name?o.name:c,C({photo:n,name:l,owner:c,category:s,price:t.price.toNumber(),seller:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){})),N(n)})).catch((function(e){}))}),[t,n]);var S,B,_,P=function(e){p.default.post("/order/confirm",{id:y.id,status:e}).then((function(e){d.Loader.hide(),a(0)})).catch((function(e){d.Loader.hide(),a(0)}))},j=function(){var e=(0,l.default)(r.default.mark((function e(t){var c;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.myContract,f.default.fire({title:"Claiming Your Payment Product",text:"Your Payment Fee is About "+t+" BNB",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Claim to Wallet"}).then(function(){var e=(0,l.default)(r.default.mark((function e(n){var l,s,o,i,m,f;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=14;break}return l=u.ethers.utils.parseUnits(t.toString(),"ether"),s=l.toString(),d.Loader.show("Initializing Wallet for Confirmation...."),e.next=6,c.withdraw(s);case 6:return o=e.sent,d.Loader.show(" Claim Saldo to your Wallet..."),e.next=10,o.wait();case 10:i=o.gasLimit.toNumber(),m=u.ethers.utils.formatEther(o.gasPrice.toNumber()),f=(i*m).toFixed(8),p.default.post("/order/confirm",{id:y.id,status:"Claimed",gas:f,txid:o.hash}).then((function(e){d.Loader.hide(),a(0)})).catch((function(e){d.Loader.hide(),a(0)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=y.orders_details&&y.orders_details.reduce((function(e,t){return{gas:e.gas+t.gas}})).gas;return e.createElement("div",{className:"container-xl p-5"},e.createElement("div",{className:"card rounded-3 shadow-sm p-4"},e.createElement("div",{className:"d-flex flex-column flex-sm-row justify-content-between"},e.createElement("div",{className:"title-2 my-2"},"No. Order : ",t),e.createElement("div",{className:"title-2 my-2"},"Status : ",y.status)),e.createElement("div",{className:"title-2 my-2 text-line-1"},"Invoice No :",e.createElement("span",{className:"title-2 text-line-1"},n.wallet,t)),e.createElement("div",{className:"d-flex flex-column justify-content-center justify-content-sm-start flex-sm-row mt-4"},e.createElement("div",{className:"p-2 rounded order-image align-self-center mb-4"},e.createElement(E,{photo:k.photo})),!k.name&&e.createElement("div",{className:"mx-3 d-flex flex-column justify-content-between",style:{flexGrow:1}},e.createElement("div",{className:"skeleton skeleton-text"}),e.createElement("div",{className:"skeleton skeleton-text"}),e.createElement("div",{className:"skeleton skeleton-text"}),e.createElement("div",{className:"skeleton skeleton-text"})),k.name&&e.createElement("div",{className:"mx-3 d-flex flex-column justify-content-between"},e.createElement("div",{className:"title-2 text-center text-sm-start"},k.name),e.createElement("div",{className:"d-flex flex-column mt-2 flex-sm-row justify-content-between"},e.createElement("div",{className:"align-self-center"},"Qty : 1"),e.createElement("div",{className:"align-self-center"},"Price : ",e.createElement("span",{className:"d-inline-block"},y.price," "),e.createElement("img",{src:"/assets/images/BNB.png",height:"30"}))),e.createElement("div",{className:"text-center text-sm-start"},e.createElement("span",{className:"d-none d-sm-inline"},"Email Buyer :"),e.createElement("span",{className:"d-inline-block text-line-1"},y.email)),e.createElement("div",{className:"font-nato d-flex justify-content-center justify-content-sm-start my-2"},e.createElement("span",{className:"material-icons align-self-center me-1 text-primary"},"account_circle")," ",k.seller&&k.seller.name?k.seller.name:k.seller,e.createElement("span",{className:"material-icons align-self-center ms-5 me-1 text-danger"},"favorite")," ",y.product&&y.product.rating))),e.createElement("div",{className:"my-3"},e.createElement("div",{className:"title-2"},"History"),!y.orders_details&&e.createElement("div",{className:"d-flex flex-row justify-content-center"},e.createElement(m.Spinner,{animation:"border",variant:"primary",size:"lg"})),y.orders_details&&(y.orders_details?y.orders_details:[]).map((function(t,a){var n=t.status,r=t.txid,l="Waiting"==n?"Succesfully sent the Order to Seller":"Confirmation"==n?"Confirmed the Order and has sent Email to "+y.email+" by Seller":"Finished"==n?"Order Successfully Accepted by buyer and Payment has been paid":"Refund"==n?"Refund Payment by Buyer":"Payment Fee has been Claimed by Seller";return e.createElement(w,{key:a,text:l,date:t.createdAt,status:n,txid:r})}))),"Waiting"==y.status&&y.seller_id==n.wallet&&e.createElement("div",{className:"d-flex flex-row align-self-end btn btn-primary",onClick:function(){return P("Confirmation")}},"Confirmation"),"Confirmation"==y.status&&y.buyer_id==n.wallet&&e.createElement("div",{className:"d-flex flex-row align-self-end btn btn-primary",onClick:function(){return P("Finished")}},"Give Feedback"),"Finished"==y.status&&y.seller_id==n.wallet&&e.createElement("div",{className:"d-flex flex-row align-self-end btn btn-primary",onClick:function(){return j(y.price)}},"Claim"),"Waiting"==y.status&&(S=y.createdAt,B=new Date(S),_=new Date,Math.round(Math.abs((B-_)/864e5))>=3)&&y.buyer_id==n.wallet&&e.createElement("button",{className:"btn btn-success d-flex flex-row align-self-end ",onClick:function(){return e=y.price,t=n.myContract,void f.default.fire({title:"Refund Your Payment Product",text:"Your Payment Fee is About "+e+" BNB",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Refund to Wallet"}).then(function(){var n=(0,l.default)(r.default.mark((function n(l){var c,s,o,i,m,f;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!l.isConfirmed){n.next=19;break}return c=u.ethers.utils.parseUnits(e.toString(),"ether"),s=c.toString(),n.prev=3,d.Loader.show("Initializing Wallet for Confirmation...."),n.next=7,t.refund(y.seller_id,s);case 7:return o=n.sent,d.Loader.show("Refund Saldo to your Wallet..."),n.next=11,o.wait();case 11:i=o.gasLimit.toNumber(),m=u.ethers.utils.formatEther(o.gasPrice.toNumber()),f=(i*m).toFixed(8),p.default.post("/order/confirm",{id:y.id,status:"Refund",gas:f,txid:o.hash}).then((function(e){d.Loader.hide(),a(0)})).catch((function(e){d.Loader.hide(),a(0)})),n.next=19;break;case 17:n.prev=17,n.t0=n.catch(3);case 19:case"end":return n.stop()}}),n,null,[[3,17]])})));return function(e){return n.apply(this,arguments)}}());var e,t}},"Refund"),("Claimed"==y.status||"Refund"==y.status)&&y.orders_details&&e.createElement("div",{className:" row"},e.createElement("div",{className:"col-sm-3 col-md-5 col-lg-7"}),e.createElement("div",{className:"ms-sm-4 ms-md-6 col-12 col-sm-8 col-md-6 col-lg-4 d-flex flex-column p-4 rounded "},e.createElement("hr",null),e.createElement("div",{className:"fw-bolder title-2"},"PRICE DETAIL"),e.createElement("hr",null),e.createElement("div",{className:"d-flex flex-row justify-content-between"},e.createElement("div",{className:"fw-bold"},"Sub Total"),e.createElement("div",{className:"fw-bold"},y.price," BNB")),e.createElement("div",{className:"d-flex flex-row justify-content-between my-2 mb-3"},e.createElement("div",{className:"text-muted"},"Total Gas Fee"),e.createElement("div",{className:"fw-bold"},L," BNB")),e.createElement("hr",{className:""}),e.createElement("div",{className:"d-flex flex-row justify-content-between mb-4"},e.createElement("div",{className:"fw-bolder"},"Total Amount"),e.createElement("div",{className:"fw-bold"},L+y.price," BNB"))))))};t.default=x}).call(this,a(1))},995:function(e,t,a){"use strict";(function(e){var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(17)),l=n(a(23)),c=n(a(53)),s=n(a(447)),o=a(116),i=a(1),d=a(242),m=n(a(443)),u=n(a(999)),f=["text","data"],p=function(t){var a=t.text,n=t.data,m=((0,s.default)(t,f),(0,d.useSelector)((function(e){return e.ContractReducers.contract.wallet}))),p=(0,i.useState)(n.order&&n.order.buyer_id==m?n.order.buyer_id:n.order&&n.order.seller_id),v=(0,c.default)(p,2),h=v[0],E=v[1],w=(0,d.useSelector)((function(e){return e.ContractReducers.contract.myContract}));return(0,i.useEffect)((function(){var e=function(){var e=(0,l.default)(r.default.mark((function e(){var t,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.wallets(h);case 2:t=e.sent,(a=t.name)&&E(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),e.createElement("div",{className:"card rounded-3 p-5 shadow my-5 btn-overlay"},(null==n.readStatus||n.readStatus.search(m)<0)&&e.createElement("span",{className:"",style:{top:-20,left:10,maxWidth:"fit-content",padding:"10px 50px"}},"New"),e.createElement("div",{className:"d-flex flex-row justify-content-between"},e.createElement("div",{className:"title-barlow-2"},"Info, ",(0,u.default)(n.createdAt).fromNow()),e.createElement("div",{className:"title-noto-2 fw-bold"},n.status)),e.createElement("div",{className:"title-barlow-1 my-2",style:{fontSize:22}},e.createElement("i",{className:"material-icons align-self-center me-1 text-primary",style:{verticalAlign:"bottom"}},"account_circle")," ",h),e.createElement("div",{className:"d-flex row justify-content-between"},e.createElement("div",{className:"title-roboto-1 col-12 col-md-8 mt-3 text-line-1",style:{height:"auto",padding:1,lineHeight:1}},a),e.createElement(o.Link,{to:"/order/"+n.order.id,className:"btn btn-primary col-12 col-md-2 me-2 my-2 my-md-0 justify-content-center"},"Check")))};var v=function(){var t=(0,d.useSelector)((function(e){return e.ContractReducers.contract.wallet})),a=(0,i.useState)([]),n=(0,c.default)(a,2),r=n[0],l=n[1];return(0,i.useEffect)((function(){t&&m.default.get("/myorder/all",{params:{user_id:t}}).then((function(e){var t=e.data;l(t)}))}),[t]),e.createElement("div",{className:"container-xl p-5"},r.map((function(t,a){var n=t.status,r="Waiting"==n?"Succesfully sent the Order to Seller":"Confirmation"==n?"Confirmed the Order and has sent Email to "+t.order.email+" by Seller":"Finished"==n?"Order Successfully Accepted by buyer and Payment has been paid":"Payment Fee has been Claimed by Seller";return e.createElement(p,{data:t,key:a,text:r})})))};t.default=v}).call(this,a(1))},996:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var r=n(a(241)),l={show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(0,r.default)("#loaderText").text(e):(0,r.default)("#loaderText").text("Please Wait..."),(0,r.default)("#loader").removeClass("d-none")},hide:function(){(0,r.default)("#loader").addClass("d-none")}};t.Loader=l},997:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(8)),l=n(a(9)),c=n(a(443)),s=n(a(240)),o=a(996),i=function(){function e(){(0,r.default)(this,e)}return(0,l.default)(e,null,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){c.default.get(e,{params:t}).then((function(e){a(e.data)})).catch((function(e){n(e)}))}))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){o.Loader.show(),c.default.post(e,t).then((function(e){var t=e.data;o.Loader.hide(),t&&t.message?s.default.fire({icon:"success",title:"Success",text:"".concat(t.message),timer:1e3}).then((function(){a(t)})).catch((function(e){})):a(t)})).catch((function(e){o.Loader.hide(),e.response&&e.response.data&&e.response.data.message?s.default.fire({icon:"error",title:"Failed",text:"".concat(e.response.data.message),timer:1e3}).then((function(){n(e)})):n(e)}))}))}},{key:"put",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,r){o.Loader.show(),c.default.put("".concat(e,"/").concat(t),a).then((function(e){var t=e.data;o.Loader.hide(),t&&t.message?s.default.fire({icon:"success",title:"Success",text:"".concat(t.message),timer:1e3}).then((function(){n(t)})).catch((function(e){})):n(t)})).catch((function(e){o.Loader.hide(),e.response&&e.response.data&&e.response.data.message?s.default.fire({icon:"error",title:"Failed",text:"".concat(e.response.data.message),timer:1e3}).then((function(){r(e)})):r(e)}))}))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){o.Loader.show(),c.default.delete("".concat(e),t).then((function(e){var t=e.data;o.Loader.hide(),t.message?s.default.fire({icon:"success",title:"Success",text:"".concat(t.message),timer:1e3}).then((function(){a(t)})).catch((function(e){})):a(t)})).catch((function(e){o.Loader.hide(),e.response&&e.response.data&&e.response.data.message?s.default.fire({icon:"error",title:"Failed",text:"".concat(e.response.data.message),timer:1e3}).then((function(){n(e)})).catch((function(){})):n(e)}))}))}}]),e}(),d=i;t.default=d}}]);